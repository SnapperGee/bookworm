(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var o=e.g.document;if(!t&&o&&(o.currentScript&&(t=o.currentScript.src),!t)){var n=o.getElementsByTagName("script");if(n.length)for(var s=n.length-1;s>-1&&!t;)t=n[s--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),(()=>{const t=e.p+"42970b2d7ce8340598b3.png",o=e.p+"5dfaf0de5d1c41fa290a.png",n=e.p+"57041bc9aad3ecc66f4e.png";document.querySelector("body").prepend((()=>{const e=document.createElement("div");e.classList.add("flex","items-center");const o=document.createElement("img");o.width=125,o.height=100,o.src=t,o.alt="Bookworm logo";const n=document.createElement("h1");n.classList.add("text-pink","font-bold","text-4xl"),n.textContent="Book";const s=document.createElement("h1");s.classList.add("text-white","font-bold","text-4xl"),s.textContent="Worm",e.appendChild(o),e.appendChild(n),e.appendChild(s);const r=document.createElement("a");r.classList.add("inline-block","text-white","p-4","text-xl"),r.href="./index.html",r.textContent="Home";const c=document.createElement("a");c.classList.add("inline-block","text-white","p-4","text-xl"),c.href="./bestsellers.html",c.textContent="Bestsellers";const a=document.createElement("a");a.classList.add("inline-block","text-white","p-4","text-xl","whitespace-nowrap"),a.href="./for-you.html",a.textContent="For You";const i=document.createElement("a");i.classList.add("inline-block","text-white","p-4","text-xl"),i.href="./bookshelf.html",i.textContent="Bookshelf";const l=window.location.pathname;for(const e of[r,c,a,i])e.href.endsWith(l)&&e.classList.add("font-bold");const d=document.createElement("div");d.classList.add("flex","flex-nowrap"),d.appendChild(r),d.appendChild(c),d.appendChild(a),d.appendChild(i);const p=document.createElement("nav");return p.classList.add("flex","flex-wrap","justify-between","items-center","w-full","bg-green","px-8"),p.id="header",p.appendChild(e),p.appendChild(d),p})()),console.log("Genres"),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("bookList");function t(e){const t=document.createElement("div");return t.className="bg-tan p-4  flex flex-col justify-center items-center",t.innerHTML=`\n        <div class="flex">\n        <div class="flex-none">\n            <img src="${e.book_image}" alt="Cover of ${e.title}" class="w-4 h-32 mb-4 shadow-xl shadow-cyan">\n        </div>\n        <div class="flex-grow ml-4">\n            <div class="font-bold text-orange">${e.title}</div>\n            <div class="font-semibold text-green">Author: ${e.author}</div>\n            <div class="mt-2">${e.description}</div>\n            <div class="mt-4">\n            <button class="rounded mt-2 text-white px-3 py-1 sm:px-6 sm:py-3 bg-orange cursor-pointer transition-opacity ease-out hover:ease-in" onclick="window.open('${e.amazon_product_url}', '_blank')">Buy Book</button>\n            </div>\n        </div>\n    \n    \n        `,function(e,t){if(e.querySelector(".icon-container"))return;const s=document.createElement("div");s.classList.add("flex","justify-end","top-2","right-2");const r=document.createElement("img");r.src=o,r.classList.add("inline-block","mr-3","cursor-pointer"),r.addEventListener("click",(t=>{t.stopPropagation(),function(e){const t=e.querySelector("p")||e.querySelector(".font-bold.text-orange"),o=e.querySelector("p")||e.querySelector(".font-semibold .text-green")||e.querySelector(".text-center"),n=e.querySelector("img"),s={title:t?t.textContent:"",author:o?o.textContent:"",cover:n?n.src:""},r=JSON.parse(localStorage.getItem("favoriteBooks")||"[]");r.push(s),localStorage.setItem("favoriteBooks",JSON.stringify(r))}(e)}));const c=document.createElement("img");c.src=n,c.classList.add("inline-block","cursor-pointer");const a=function(e,t){const o=document.createElement("div");return o.classList.add("shelf-dropdown","hidden","absolute","bg-white","rounded","shadow","mt-2","z-10"),t.forEach((n=>{const s=document.createElement("div");s.classList.add("absolute","cursor-pointer","p-2","hover:bg-gray-200"),s.textContent=n.name,s.addEventListener("click",(s=>{s.stopPropagation(),o.classList.add("hidden"),function(e,t,o){const n=e.querySelector(".font-bold.text-orange")||e.querySelector("p"),s=e.querySelector(".author"),r=e.querySelector("img"),c={title:n?n.textContent:"",author:s?s.textContent:"",cover:r?r.getAttribute("src"):""},a=o.find((e=>e.name===t));a&&(a.books||(a.books=[]),a.books.push(c)),localStorage.setItem("shelves",JSON.stringify(o))}(e,n.name,t)})),o.appendChild(s)})),o}(e,t);e.appendChild(a),c.addEventListener("click",(e=>{e.stopPropagation(),a.classList.contains("hidden")?a.classList.remove("hidden"):a.classList.add("hidden")})),s.appendChild(r),s.appendChild(c),e.appendChild(s)}(t,JSON.parse(localStorage.getItem("shelves")||"[]")),t}const s=JSON.parse(localStorage.getItem("cachedBooksData")||"[]");s.length>0?(s.forEach((o=>{const n=t(o);e?.appendChild(n)})),console.log("Using cached book data:",s)):fetch("https://api.nytimes.com/svc/books/v3/lists/overview.json?published_date=&api-key=JrHXn4ufVldkRPHOEsBzG3wUMFHtGn1M").then((e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.json()})).then((o=>{const n=o.results.lists[0].books.map((e=>({title:e.title,author:e.author,description:e.description,amazon_product_url:e.amazon_product_url,book_image:e.book_image})));localStorage.setItem("cachedBooksData",JSON.stringify(n)),console.log("Fetched book data from API:",n),n.forEach((o=>{const n=t(o);e?.appendChild(n)}))})).catch((e=>{console.error("Error fetching NY Times bestseller data:",e)}))}))})()})();
//# sourceMappingURL=bestsellers.bundle.min.mjs.map